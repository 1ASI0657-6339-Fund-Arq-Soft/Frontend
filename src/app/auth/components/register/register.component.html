<div class="register-container">
  <div class="register-wrapper">
    <div class="register-brand">
      <div class="brand-content">
        <h1>AgeCare</h1>
        <p>Sistema integral de gesti贸n y cuidado para adultos mayores</p>
        <ul class="brand-features">
          <li>Seguro y confiable</li>
          <li>Monitoreo 24/7</li>
          <li>Comunicaci贸n familiar</li>
        </ul>
      </div>
    </div>

    <div class="register-form-wrapper">
      <div class="form-container">
        <h2>Registrate</h2>
        <p class="form-subtitle">Acceso a la plataforma de gesti贸n</p>

        <div *ngIf="error" class="alert alert-error">
          {{ error }}
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="name"><span class="icon"></span> Usuario</label>
            <input
              type="text"
              id="name"
              class="form-input"
              placeholder="Ingrese su usuario"
              formControlName="name"
              [class.is-invalid]="submitted && f['name'].errors"
            />
          </div>

          <div class="form-group">
            <label for="email"><span class="icon"></span> Correo</label>
            <input
              type="email"
              id="email"
              class="form-input"
              placeholder="Ingrese su correo"
              formControlName="email"
              [class.is-invalid]="submitted && f['email'].errors"
            />
          </div>

          <div class="form-group">
            <label for="password"><span class="icon"></span> Contrase帽a</label>
            <input
              type="password"
              id="password"
              class="form-input"
              placeholder="Ingrese su contrase帽a"
              formControlName="password"
              [class.is-invalid]="submitted && f['password'].errors"
            />
          </div>

          <div class="form-group">
            <label for="confirmPassword"
            ><span class="icon"></span> Confirmar Contrase帽a</label
            >
            <input
              type="password"
              id="confirmPassword"
              class="form-input"
              placeholder="Confirme su contrase帽a"
              formControlName="confirmPassword"
              [class.is-invalid]="submitted && f['confirmPassword'].errors"
            />
          </div>

          <div class="form-group">
            <label for="role"><span class="icon"></span> Tipo de Usuario</label>
            <select
              id="role"
              class="form-input"
              formControlName="role"
              [class.is-invalid]="submitted && f['role'].errors"
            >
              <option value="" disabled>Seleccione su rol</option>
              <option *ngFor="let role of roles" [value]="role.value">
                {{ role.label }}
              </option>
            </select>
          </div>

          <div class="resident-section" *ngIf="isFamiliar()">
            <h3 class="section-title">Datos del Residente</h3>

            <div class="form-group">
              <label>Nombre del residente</label>
              <input
                type="text"
                class="form-input"
                placeholder="Nombre completo"
                formControlName="residentName"
              />
            </div>

            <div class="form-group">
              <label>Edad</label>
              <input
                type="number"
                class="form-input"
                placeholder="Edad del residente"
                formControlName="residentAge"
              />
            </div>

            <div class="form-group">
              <label>Condici贸n m茅dica</label>
              <textarea
                class="form-input"
                placeholder="Descripci贸n breve de su condici贸n"
                formControlName="residentCondition"
              ></textarea>
            </div>
          </div>

          <button type="submit" class="btn btn-primary" [disabled]="loading">
            <span *ngIf="!loading">Ingresar al Sistema</span>
            <span *ngIf="loading">Registrando...</span>
          </button>
        </form>

        <div class="login-link">
          <p>驴Ya tiene cuenta?</p>
          <button type="button" class="link-button" (click)="goToLogin()">
            Inicia sesi贸n aqu铆
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
